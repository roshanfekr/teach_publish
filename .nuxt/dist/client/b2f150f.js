(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{706:function(t,e,l){"use strict";l.r(e);l(1),l(11),l(171);var o=l(206),n={layout:"AdminTemplate",components:{},name:"Notifications",data:function(){return{editorToolbar:o.a,txt:"",busy:!1,notificationRows:[],options:["Apple","Orange","Banana","Lime","Peach","Chocolate","Strawberry"],search:"",value:[],searchData:{pageIndex:0,rowCount:0,perPage:5}}},methods:{loadNotification:function(t){var e=this;this.$axios.post("/notification/get-admin-notifications",null).then((function(t){e.loadOverlay=!1,e.result=t.data})).catch((function(t){})).finally((function(){e.loadOverlay=!1}))},onOptionClick:function(t){var option=t.option;(0,t.addTag)(option),this.search=""}}},c=l(80),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("client-only",[e("vue-editor",{attrs:{editorToolbar:t.editorToolbar},model:{value:t.txt,callback:function(e){t.txt=e},expression:"txt"}})],1),t._v(" "),e("div",{staticClass:"w-100",staticStyle:{"overflow-x":"auto","overflow-y":"hidden"}},[e("div",{staticClass:"m-3 pt-3"},[e("b-row",{staticClass:"w-100 mb-3",attrs:{id:"toolbar"}},[e("b-col",{attrs:{lg:"4"}},[e("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("notification.admin.filter.title"),"label-for":"input-title","label-cols-lg":"3","label-align-lg":"right","label-size":"sm"}},[e("b-form-input",{staticClass:"w-100",attrs:{size:"sm",id:"input-title"},model:{value:t.searchData.title,callback:function(e){t.$set(t.searchData,"title",e)},expression:"searchData.title"}})],1)],1),t._v(" "),e("b-col",{attrs:{lg:"4"}},[e("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("notification.admin.filter.text"),"label-for":"select-text","label-cols-lg":"3","label-align-lg":"right","label-size":"sm"}},[e("b-form-input",{staticClass:"m-v-select2 w-100",attrs:{id:"select-text",placeholder:t.$t("mylesson.filter.lessons")},model:{value:t.searchData.text,callback:function(e){t.$set(t.searchData,"text",e)},expression:"searchData.text"}})],1)],1),t._v(" "),e("b-col",{staticClass:"mt-xl-0 mt-lg-0 mt-md-2 mt-sm-2 mt-2",attrs:{lg:"4"}},[e("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:this.loadNotification}},[t.busy?e("span",[e("b-spinner",{attrs:{small:"",type:"grow"}})],1):t._e(),t._v(" "),t.busy?e("span",[t._v("Searching...")]):t._e(),t._v(" "),t.busy?t._e():e("span",[t._v("Search")])])],1)],1),t._v(" "),e("div",{staticStyle:{"min-width":"750px"}},[e("b-row",{staticClass:"d-md-flex col-md-12 col-lg-12 m-center"},[this.searchData.rowCount/this.searchData.perPage>1?e("b-pagination",{attrs:{"total-rows":this.searchData.rowCount,"per-page":this.searchData.perPage},on:{change:t.loadNotification},model:{value:t.searchData.pageIndex,callback:function(e){t.$set(t.searchData,"pageIndex",e)},expression:"searchData.pageIndex"}}):t._e()],1),t._v(" "),e("div",{staticClass:"w-100 h-100"},[e("div",{staticClass:"w-100 shadow-sm d-flex font-weight-bold border rounded-bottom",staticStyle:{"border-radius":"10px","background-color":"#d8d6d6"}},[t._m(0),t._v(" "),e("div",{staticClass:"pl-3 w-40 mt-1"},[e("span",{},[t._v(t._s(t.$t("notification.admin.grid.title")))])]),t._v(" "),e("div",{staticClass:"pl-3 w-30 mt-1"},[e("span",{},[t._v(t._s(t.$t("notification.admin.grid.level")))])]),t._v(" "),e("div",{staticClass:"pl-3 w-25 mt-1 text-center"},[e("span",{},[t._v(t._s(t.$t("notification.admin.grid.createdAt")))])]),t._v(" "),e("div",{staticClass:"pl-3 w-25 mt-1 text-center"},[e("span",{},[t._v(t._s(t.$t("notification.admin.grid.updatedAt")))])]),t._v(" "),e("div",{staticClass:"pl-3 w-15 mt-1"}),t._v(" "),e("div",{staticClass:"pl-3 w-15 mt-1"})]),t._v(" "),t._l(t.notificationRows,(function(l,o){return e("div",{key:o,staticClass:"mx-0 w-100 m-pointer",on:{click:function(e){return t.$root.$emit("bv::toggle::collapse","coll_message_"+l.id)}}},[e("div",{staticClass:"w-100 p-2 mt-2 shadow-sm"},[e("div",{staticClass:"w-100 d-flex"},[e("div",{staticClass:"pl-3 w-40 mt-2"},[e("span",{staticClass:"font-weight-bold"},[t._v(" "+t._s(l.title))])]),t._v(" "),e("div",{staticClass:"w-20 mt-2 text-center"},[0===l.level?e("b-badge",{attrs:{variant:"success"}},[t._v(" "+t._s(t.$t("notification.level.low")))]):t._e(),t._v(" "),1===l.level?e("b-badge",{attrs:{variant:"success"}},[t._v(" "+t._s(t.$t("notification.level.normal")))]):t._e(),t._v(" "),2===l.level?e("b-badge",{attrs:{variant:"warning"}},[t._v(" "+t._s(t.$t("notification.level.high")))]):t._e()],1),t._v(" "),e("div",{staticClass:"text-center w-20 mt-2"},[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t._f("moment")(l.createdAt,"YYYY-MM-DD - hh:mm "))+" ")])]),t._v(" "),e("div",{staticClass:"text-center w-25 mt-2"},[e("span",{staticClass:"small"},[t._v(t._s(t._f("moment")(l.updatedAt,"YYYY-MM-DD - hh:mm ")))])])])])])}))],2)],1),t._v(" "),e("b-modal",{attrs:{id:"acceptStatus_modal",centered:"",size:"md","hide-footer":"",title:1===this.acceptStatusData.acceptStatus?"Verify Message":"Reject Message"}},[e("b-row",{staticClass:"mt-1"},[e("b-textarea",{staticClass:"ml-3 mr-3",attrs:{id:"textarea-rows",placeholder:this.$t("please_type_message"),rows:"4",lazy:!0},model:{value:t.$v.msg.$model,callback:function(e){t.$set(t.$v.msg,"$model",e)},expression:"$v.msg.$model"}})],1),t._v(" "),e("b-row",{staticClass:"mt-3"},[e("b-col",[e("b-button",{staticClass:"float-right w-50",attrs:{variant:"primary"},on:{click:t.changeAcceptStatus}},[t._v(t._s(t.$t("Send"))+"\r\n            ")])],1),t._v(" "),e("b-col",[e("b-button",{staticClass:"float-left w-50",attrs:{variant:"primary"},on:{click:t.cancelAcceptStatus}},[t._v("\r\n              "+t._s(t.$t("cancel"))+"\r\n            ")])],1)],1)],1)],1)]),t._v(" "),e("div")],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"pl-5 mt-3",staticStyle:{size:"3rem"}},[t("span",{staticStyle:{size:"3rem"}})])}],!1,null,null,null);e.default=component.exports}}]);