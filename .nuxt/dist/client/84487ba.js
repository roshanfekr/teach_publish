(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{452:function(t,e,l){var content=l(544);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(63).default)("4aa69a12",content,!0,{sourceMap:!1})},543:function(t,e,l){"use strict";l(452)},544:function(t,e,l){var o=l(62)(!1);o.push([t.i,"input[type=file][data-v-151df270]{display:none}.header h2[data-v-151df270]{margin:0}.header a[data-v-151df270]{text-decoration:none;color:#000}.actions[data-v-151df270]{margin-top:1rem}",""]),t.exports=o},607:function(t,e,l){"use strict";l.r(e);l(19),l(33),l(43),l(254),l(11),l(24),l(98),l(391),l(392),l(393),l(394),l(395),l(396),l(397),l(398),l(399),l(400),l(401),l(402),l(403),l(404),l(405),l(406),l(407),l(408),l(409),l(410),l(411),l(412),l(413),l(414),l(415),l(21);var o=l(30),n=l(136),r=l(416),c=l.n(r);l(417);o.c.add(n.b),o.c.add(n.a);var d={middleware:"auth",name:"ToturDetails",mounted:function(){this.fillUserInfo()},components:{VueCropper:c.a},data:function(){return{nextPush:"/reg-educ",fileInfo:null,busy:!1,hasImage:null,selectedFile:null,data:null,fileSizeNotValid:!1,registerForm:{File:null,transcript_fileId:0},errors:null}},validations:{selectedFile:{isValidSize:function(t){return!t||t.size<2097152}},registerForm:{}},methods:{downloadFile:function(t){try{this.$axios.get("/download/".concat(t),{responseType:"blob"}).then((function(t){var e=window.URL.createObjectURL(new Blob([t.data],{type:"application/file"})),l=document.createElement("a"),o=t.headers.filename;l.href=e,l.setAttribute("download",o),document.body.appendChild(l),l.click()}))}catch(t){console.log(t)}},dataURLtoFile:function(t,e){for(var l=t.split(","),o=l[0].match(/:(.*?);/)[1],n=atob(l[1]),r=n.length,c=new Uint8Array(r);r--;)c[r]=n.charCodeAt(r);return new File([c],e,{type:o})},onReset:function(t){t.preventDefault(),this.registerForm.name="",this.registerForm.lastName="",this.registerForm.headline="",this.registerForm.bioMore=""},makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",header=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Message",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.$bvToast.toast(this.$t(e),{autoHideDelay:3e3,title:header,variant:t,solid:!0,appendToast:!0,headerClass:"d-none"})},nextStep:function(){this.$router.push(this.nextPush)},onSubmit:function(t){var e=this;if(this.$v.$reset(),this.errors=null,t.preventDefault(),this.$v.registerForm.$touch(),this.$v.registerForm.$invalid)console.log("vuelidate error");else{if(null===this.selectedFile)return void(this.busy=!1);this.busy=!0;var l=new FormData;null!==this.selectedFile&&l.append("file",this.selectedFile,this.selectedFile.name),l.append("registerForm",JSON.stringify(this.registerForm)),this.$axios.post("/user/save-transcript",l).then((function(t){e.busy=!1,e.registerForm=t.data,e.selectedFile=null,e.makeToast("success","Message",e.$t("done_successfully")),e.fillUserInfo()})).catch((function(t){e.busy=!1,t.response.data.errors&&(e.errors=t.response.data.errors)})).finally((function(){e.busy=!1}))}},fillUserInfo:function(){var t=this;this.$axios.post("/user/get-transcript").then((function(e){t.fileInfo=e.data,t.imagePath=null!=e.data?e.data.fileId:""})).catch((function(e){e.response.data.errors&&(t.errors=e.response.data.errors),console.log(e)}))}}},f=(l(543),l(73)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{},[l("b-container",{staticClass:"container-padding"},[l("b-row",{staticClass:"col-md-12 pb-5 col-lg-10 m-center"},[l("b-row",{staticClass:"float-left "},[l("h3",{staticClass:"mb-2"},[t._v(t._s(t.$t("transcript.title")))])]),t._v(" "),l("b-row",{staticClass:"w-100 mx-0"},[l("p",{staticClass:"w-100 mt-2",staticStyle:{"font-size":"small"}},[l("svg",{staticClass:"bi bi-exclamation-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[l("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}),t._v(" "),l("path",{attrs:{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"}})]),t._v(" "),l("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("transcript.header_alert")))])])]),t._v(" "),l("b-row",{staticClass:"mx-0 py-3 col-xl-7 col-lg-8 col-md-12"},[l("b-form",{staticClass:"w-100",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit.apply(null,arguments)},reset:t.onReset}},[l("b-overlay",{attrs:{show:t.busy,rounded:"lg",variant:"white",opacity:"0.8"}},[null!==t.fileInfo&&t.fileInfo.fileId>0?l("p",{staticClass:"border-bottom"},[t._v(t._s(t.$t("transcript.history")))]):t._e(),t._v(" "),null!==t.fileInfo&&t.fileInfo.fileId>0?l("b-row",{staticClass:"w-100 ml-1 mb-4 border-bottom pt-2 pb-3"},[null!==t.fileInfo&&t.fileInfo.fileId>0?l("div",{staticClass:"w-100"},[l("font-awesome-icon",{staticStyle:{"font-size":"x-large"},attrs:{icon:["fas","file-alt"]}}),t._v(" "),l("span",{staticClass:"mx-2"},[t._v(t._s(Math.trunc(t.fileInfo.size)+" KB"))]),t._v(" "),l("a",{staticClass:"white-icon align-items-center justify-content-center",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.downloadFile(t.fileInfo.fileId)}}},[t._v("\n                  "+t._s(t.$t("transcript.download"))+"\n                ")])],1):t._e()]):t._e(),t._v(" "),l("div",{},[l("b-form-group",{attrs:{id:"input-group-4",label:t.$t("transcript.label"),"label-for":"input4"}},[l("b-form-file",{class:{"is-invalid":t.$v.selectedFile.$error},staticStyle:{direction:"ltr"},attrs:{"browse-text":t.$t("browse"),id:"input4",placeholder:t.$t("chooseFile"),"drop-placeholder":t.$t("dropFile")},model:{value:t.$v.selectedFile.$model,callback:function(e){t.$set(t.$v.selectedFile,"$model",e)},expression:"$v.selectedFile.$model"}}),t._v(" "),t.$v.selectedFile.isValidSize?t._e():l("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.$t("file.isValidSize"))+"\n                ")]),t._v(" "),t.selectedFile?l("div",{staticClass:"mt-3"},[l("font-awesome-icon",{staticStyle:{"font-size":"x-large"},attrs:{icon:["fas","file-alt"]}}),t._v(" "),l("span",{staticClass:"mx-2"},[t._v(t._s(t.selectedFile?Math.trunc(t.selectedFile.size/1024)+" KB":""))])],1):t._e()],1)],1)],1),t._v(" "),l("div",[l("div",{staticClass:"float-left d-block"},[l("b-button",{staticClass:"form-control btn btn-crl  btn-primary submit btn-reg px-3 mt-4",attrs:{type:"submit"}},[l("span",{staticClass:"mt-2"},[t._v(t._s(t.$t("save")))])])],1)])],1)],1)],1)],1)],1)}),[],!1,null,"151df270",null);e.default=component.exports}}]);