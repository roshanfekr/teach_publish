(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{451:function(t,e,l){var content=l(542);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(63).default)("7e231ace",content,!0,{sourceMap:!1})},541:function(t,e,l){"use strict";l(451)},542:function(t,e,l){var n=l(62)(!1);n.push([t.i,".vertical-center[data-v-673c0a9a]{margin:0;position:absolute;top:50%;transform:translateY(-50%)}.w-20[data-v-673c0a9a]{width:20%!important}.m-v-select2[data-v-673c0a9a]{font-size:.9rem}",""]),t.exports=n},606:function(t,e,l){"use strict";l.r(e);l(19),l(34),l(111),l(258);var n={name:"my-lessons",data:function(){return{windowWidth:window.getComputedStyle(document.documentElement).getPropertyValue("--screen-mode"),acceptStatusData:{},busy:!0,lesson_options:[],status_options:[{value:-1,text:this.$t("mylesson.filter.status.all")},{value:0,text:this.$t("mylesson.filter.status.pending")},{value:1,text:this.$t("mylesson.filter.status.verified")},{value:2,text:this.$t("mylesson.filter.status.rejected")}],showOverlay:!1,mylessonRows:[],fields:[{key:"tutor_image",label:""},{key:"tutor.name",label:"Tutor Name",sortable:!0,thStyle:{width:"25%"}},{key:"Lesson.subject",label:"Lesson",sortable:!0,thStyle:{width:"25%"}},{key:"finish",label:"Done",thStyle:{width:"25%"}},{key:"updatedAt",label:"Date",sortable:!0,thStyle:{width:"40%"}},{key:"acceptStatus",label:"Status",sortable:!1,thStyle:{width:"25%"}},{key:"verify",label:"",sortable:!1,thStyle:{width:"25%"}},{key:"reject",label:"",sortable:!1,thStyle:{width:"25%"}}],searchData:{pageIndex:0,rowCount:0,perPage:10,lessonId:null,acceptStatus:-1}}},mounted:function(){this.initFilter(),this.loadMyLesson()},methods:{sendMessage:function(t){this.$router.push("/user-panel/requests?cid="+t.tutorUserId)},closeDetail:function(t,e){this.$root.$emit("bv::toggle::collapse","coll_message_"+t.id),t.open=!1,this.$set(this.mylessonRows,e,t)},openDetail:function(t,e){this.$root.$emit("bv::toggle::collapse","coll_message_"+t.id),t.open=!0,this.$set(this.mylessonRows,e,t)},GetTime:function(t,e){return(t<10?"0"+Math.floor(t/2):t/2).toString()+":"+(t%2==0?"00":"30")+" - "+(e<10?"0"+Math.floor(e/2):e/2).toString()+":"+(e%2==0?"00":"30")},DayOfWeek:function(t){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t]},initFilter:function(){var t=this;try{this.$axios.post("/mylessons/get-student-lessons",null).then((function(e){!1!==e.data&&e.data.length>0&&(t.lesson_options=e.data)})).catch((function(t){}))}catch(t){}},cDate:function(t){return t.toLocaleString()},loadMyLesson:function(t){var e=this;try{this.busy=!0,this.searchData.pageIndex=t,this.$axios.post("/mylessons/get-student-mylessons",this.searchData).then((function(t){e.mylessonRows=t.data.rows,e.searchData.rowCount=t.data.count;for(var i=0;i<e.mylessonRows.length;i++)e.mylessonRows[i].open=!0})).catch((function(t){})).finally((function(){e.busy=!1}))}catch(t){this.busy=!1}},changeAcceptStatus:function(t,e,l){var n=this;try{this.acceptStatusData.acceptStatus=t,this.acceptStatusData.myLessonId=e,this.acceptStatusData.index=l;var o="mylessons.acceptStatus.verify.alert";2===t&&(o="mylessons.acceptStatus.reject.alert"),this.$bvModal.msgBoxConfirm(this.$t(o),{title:"Confirm",size:"md",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2 border-top-0",hideHeaderClose:!1,headerClass:"p-2 border-bottom-0",centered:!0}).then((function(t){if(!0===t){n.busy=!0;var data={acceptStatus:n.acceptStatusData.acceptStatus,myLessonId:n.acceptStatusData.myLessonId};n.$axios.post("/mylessons/acceptMyLessonByTutor",data).then((function(t){null!==t.data&&(n.mylessonRows[n.acceptStatusData.index].acceptStatus=t.data.acceptStatus)})).catch((function(t){n.busy=!1})).finally((function(){n.busy=!1}))}})).catch((function(t){}))}catch(t){this.busy=!1}}}},o=(l(541),l(73)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"w-100",staticStyle:{"overflow-x":"auto","overflow-y":"hidden"}},[l("div",{staticClass:"m-3 pt-3"},[l("b-row",{staticClass:"w-100 mb-3",attrs:{id:"toolbar"}},[l("b-col",{attrs:{lg:"4"}},[l("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("mylesson.filter.acceptStatus"),"label-for":"input-acceptStatus","label-cols-lg":"3","label-align-lg":"right","label-size":"sm"}},[l("b-form-select",{staticClass:"w-100",attrs:{size:"sm",id:"input-acceptStatus",options:t.status_options},model:{value:t.searchData.acceptStatus,callback:function(e){t.$set(t.searchData,"acceptStatus",e)},expression:"searchData.acceptStatus"}})],1)],1),t._v(" "),l("b-col",{attrs:{lg:"4"}},[l("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("mylesson.filter.lessons"),"label-for":"select-lesson","label-cols-lg":"3","label-align-lg":"right","label-size":"sm"}},[l("v-select",{staticClass:"m-v-select2 w-100",attrs:{id:"select-lesson",placeholder:t.$t("mylesson.filter.lessons"),reduce:function(t){return t.id},options:t.lesson_options,label:"subject"},model:{value:t.searchData.lessonId,callback:function(e){t.$set(t.searchData,"lessonId",e)},expression:"searchData.lessonId"}})],1)],1),t._v(" "),l("b-col",{staticClass:"mt-xl-0 mt-lg-0 mt-md-2 mt-sm-2 mt-2",attrs:{lg:"4"}},[l("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:this.loadMyLesson}},[t.busy?l("span",[l("b-spinner",{attrs:{small:"",type:"grow"}})],1):t._e(),t._v(" "),t.busy?l("span",[t._v("Searching...")]):t._e(),t._v(" "),t.busy?t._e():l("span",[t._v("Search")])])],1)],1),t._v(" "),l("div",{staticStyle:{"min-width":"750px"}},[l("b-row",{staticClass:"d-md-flex col-md-12 col-lg-12 m-center  "},[this.searchData.rowCount/this.searchData.perPage>1?l("b-pagination",{attrs:{"total-rows":this.searchData.rowCount,"per-page":this.searchData.perPage},on:{change:t.loadMyLesson},model:{value:t.searchData.pageIndex,callback:function(e){t.$set(t.searchData,"pageIndex",e)},expression:"searchData.pageIndex"}}):t._e()],1),t._v(" "),l("div",{staticClass:"w-100 h-100"},[l("div",{staticClass:"w-100 shadow-sm d-flex font-weight-bold border rounded-bottom",staticStyle:{"border-radius":"10px","background-color":"#d8d6d6"}},[t._m(0),t._v(" "),l("div",{staticClass:"pl-3 w-45 mt-1"},[l("span",{},[t._v(t._s(t.$t("mylesson.grid.tutorname")))])]),t._v(" "),l("div",{staticClass:"pl-3 w-40 mt-1"},[l("span",{},[t._v(t._s(t.$t("mylesson.grid.lesson")))])]),t._v(" "),l("div",{staticClass:" w-20 mt-1 text-center"},[l("span",{},[t._v(t._s(t.$t("mylesson.grid.status")))])]),t._v(" "),l("div",{staticClass:"pl-3 w-25 mt-1 text-center"},[l("span",{},[t._v(t._s(t.$t("mylesson.grid.takendate")))])]),t._v(" "),l("div",{staticClass:"pl-3 w-25 mt-1"},[l("span",{},[t._v(t._s())])])]),t._v(" "),t._l(t.mylessonRows,(function(e,n){return l("div",{key:n,staticClass:"mx-0 w-100 "},[l("div",{staticClass:"w-100 p-2 mt-2 shadow-sm "},[l("div",{staticClass:"w-100 d-flex"},[void 0===e.open||!1===t.mylessonRows[n].open?l("div",{staticClass:"w-5 mt-3 m-pointer",on:{click:function(l){return t.openDetail(e,n)}}},[l("svg",{staticClass:"bi bi-chevron-up",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[l("path",{attrs:{"fill-rule":"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"}})])]):t._e(),t._v(" "),!0===e.open?l("div",{staticClass:"w-5 mt-3 m-pointer",on:{click:function(l){return t.closeDetail(e,n)}}},[l("svg",{staticClass:"bi bi-chevron-down",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[l("path",{attrs:{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}})])]):t._e(),t._v(" "),l("b-avatar",{attrs:{size:"3rem",src:null!=e.tutor.File?"/"+e.tutor.File.path:"",alt:"Cropped Image"}}),t._v(" "),l("div",{staticClass:"pl-3 w-40 mt-3"},[l("b-link",{staticClass:"font-weight-bold",attrs:{href:"/tutor/"+e.tutor.id}},[t._v(" "+t._s(e.tutor.name+" "+e.tutor.lastName))])],1),t._v(" "),l("div",{staticClass:"pl-3 w-40 mt-3"},[l("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.Lesson.subject))])]),t._v(" "),l("div",{staticClass:"text-center w-20 mt-3"},[0===e.acceptStatus?l("b-badge",{attrs:{variant:"warning"}},[t._v(" "+t._s(t.$t("mylesson.acceptStatus.pending"))+"\n                ")]):t._e(),t._v(" "),1===e.acceptStatus?l("b-badge",{attrs:{variant:"success"}},[t._v("\n                  "+t._s(t.$t("mylesson.acceptStatus.verified"))+"\n                ")]):t._e(),t._v(" "),2===e.acceptStatus?l("b-badge",{attrs:{variant:"danger"}},[t._v(" "+t._s(t.$t("mylesson.acceptStatus.rejected"))+"\n                ")]):t._e()],1),t._v(" "),l("div",{staticClass:"text-center w-25 mt-3"},[l("span",{staticClass:"small"},[t._v(t._s(t._f("moment")(e.createdAt,"ddd ,MMM DD, YYYY - hh:mm")))])]),t._v(" "),l("div",{staticClass:"text-center w-25 mt-2"},[l("span",{staticClass:"small"},[l("b-button",{staticClass:"btn-primary btn-crl-mini ",on:{click:function(l){return t.sendMessage(e)}}},[t._v("Send Message")])],1),t._v(" "),l("span",{staticClass:"small"},[l("b-button",{staticClass:"btn-primary btn-crl-mini w-30",on:{click:function(l){return t.openDetail(e,n)}}},[t._v("Detail")])],1)])],1),t._v(" "),l("b-collapse",{staticClass:"p-2 w-100 ",attrs:{id:"coll_message_"+e.id}},[l("div",{staticClass:"rounded-lg p-2",staticStyle:{"background-color":"rgb(252, 253, 253)"}},[l("div",{staticClass:"w-100 mt-1 "},[l("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"smaller"}},[t._v("Week Day :")]),t._v(" "),l("span",{staticClass:"w-100 "},[t._v(t._s(t.DayOfWeek(e.dayOfWeek)))])]),t._v(" "),l("div",{staticClass:"w-100 mt-1 "},[l("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"smaller"}},[t._v("Time :")]),t._v(" "),l("span",{staticClass:"w-100 "},[t._v(t._s(t.GetTime(e.timeStart,e.timeEnd)))])]),t._v(" "),l("div",{staticClass:"w-100 mt-1 "},[l("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"smaller"}},[t._v(t._s(t.$t("mylesson.grid.lesson"))+":")]),t._v(" "),l("span",{staticClass:"w-100 "},[t._v(t._s(e.Lesson.subject))])])])])],1)])}))],2)],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pl-3 w-5 mt-1"},[e("span",{})])}],!1,null,"673c0a9a",null);e.default=component.exports}}]);