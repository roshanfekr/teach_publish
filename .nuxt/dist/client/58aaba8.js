(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{458:function(e,t,l){var content=l(555);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(64).default)("5d2c763d",content,!0,{sourceMap:!1})},554:function(e,t,l){"use strict";l(458)},555:function(e,t,l){var o=l(63)(!1);o.push([e.i,".p-10[data-v-7befca9b]{padding-top:100px;padding-left:100px;padding-right:100px}.w-10[data-v-7befca9b]{width:10%!important}.w-5[data-v-7befca9b]{width:5%!important}",""]),e.exports=o},624:function(e,t,l){"use strict";l.r(t);l(11),l(138);var o={layout:"AdminTemplate",name:"users",data:function(){return{setRoleUserId:0,roleSelected:[],roleOptions:[{text:"Administrator",value:"1"},{text:"Tutor",value:"2"},{text:"Student",value:"3"}],overlay_show:!1,visible:!0,active_options:[{value:2,text:"All"},{value:0,text:"Pending"},{value:-1,text:"Disable"},{value:1,text:"Enable"}],searchData:{pageIndex:1,rowsCount:0,perPage:10,email:"",name:"",lastname:"",active:2},t_fields:[{key:"email",label:"Email/User",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"lastname",label:"Last Name",sortable:!0},{key:"roles",label:"Role",sortable:!1},{key:"acceptStatus",label:"Status",sortable:!1},{key:"createdAt",label:this.$t("CreatedAt"),sortable:!1},{key:"econfirmed",label:"Email Confirmed",sortable:!1},{key:"view",label:"Action",sortable:!1},{key:"setrole",label:this.$t("SetRole"),sortable:!1}],t_items:[]}},mounted:function(){this.search()},methods:{setRoleDialog:function(e){this.roleSelected=e.rolesId,this.setRoleUserId=e.id,this.showModal()},setRoles:function(){var e=this;try{var t={roles:this.roleSelected,userId:this.setRoleUserId};this.$axios.post("/users/setRole",t).then((function(t){!0===t.data.result&&(e.hideModal(),e.search(e.searchData.pageIndex))})).catch((function(t){e.makeToast("danger","Error","search_error")}))}catch(e){}},setRoleCancel:function(){this.hideModal()},showModal:function(){this.$refs["role-modal"].show()},hideModal:function(){this.$refs["role-modal"].hide()},hasRole:function(e,t){return void 0!==t&&-1!==t.indexOf(e)},makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",header=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Message",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.$bvToast.toast(this.$t(t),{title:header,variant:e,solid:!0})},search:function(e){var t=this;this.searchData.pageIndex=e>0?e:1,this.overlay_show=!0,this.$axios.post("users/list",this.searchData).then((function(e){t.t_items=e.data.rows,t.searchData.rowsCount=e.data.row_count,t.overlay_show=!1})).catch((function(e){t.overlay_show=!1,t.makeToast("danger","Error","search_error"),console.log(e)}))}}},r=o,n=(l(554),l(74)),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("b-modal",{ref:"role-modal",attrs:{centered:"","hide-footer":"",size:"md",title:"Set Roles"}},[l("div",{staticClass:"d-block text-center"},[l("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.roleOptions,name:"flavour-1"},model:{value:e.roleSelected,callback:function(t){e.roleSelected=t},expression:"roleSelected"}})],1),e._v(" "),l("b-row",{staticClass:"mt-3"},[l("b-col",[l("b-button",{staticClass:"float-right w-50",attrs:{variant:"primary"},on:{click:this.setRoles}},[e._v(e._s(e.$t("set")))])],1),e._v(" "),l("b-col",[l("b-button",{staticClass:"float-left w-50",attrs:{variant:"primary"},on:{click:this.setRoleCancel}},[e._v(e._s(e.$t("cancel")))])],1)],1)],1),e._v(" "),l("b-card",{staticClass:"mx-3",attrs:{"header-tag":"header","no-body":"","footer-tag":"footer"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n          "+e._s(e.$t("users"))+"\n          "),e.visible?l("div",{staticClass:"float-right",on:{click:function(t){e.visible=!1}}},[l("svg",{staticClass:"bi bi-caret-down",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[l("path",{attrs:{d:"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"}})])]):e._e(),e._v(" "),e.visible?e._e():l("div",{staticClass:"float-right",on:{click:function(t){e.visible=!0}}},[l("svg",{staticClass:"bi bi-caret-up-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[l("path",{attrs:{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"}})])])]},proxy:!0}])},[e._v(" "),l("b-row",{staticClass:"d-md-flex col-md-12 col-lg-12 m-center"},[l("b-collapse",{staticClass:"w-100",attrs:{id:"search-1",visible:"",accordion:"my-accordion",role:"tabpanel"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[l("b-row",{staticClass:"mt-3"},[l("b-col",[l("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-size":"sm","label-align-sm":"right",label:e.$t("email"),"label-for":"input-username"}},[l("b-form-input",{attrs:{id:"input-username",placeholder:"Email"},model:{value:e.searchData.email,callback:function(t){e.$set(e.searchData,"email",t)},expression:"searchData.email"}})],1)],1),e._v(" "),l("b-col",[l("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-align-sm":"right","label-size":"sm",label:e.$t("name"),"label-for":"input-name"}},[l("b-form-input",{attrs:{id:"input-name",placeholder:"Name"},model:{value:e.searchData.name,callback:function(t){e.$set(e.searchData,"name",t)},expression:"searchData.name"}})],1)],1)],1),e._v(" "),l("b-row",{staticClass:"mt-2"},[l("b-col",[l("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-align-sm":"right","label-size":"sm",label:e.$t("lastname"),"label-for":"input-lastname"}},[l("b-form-input",{attrs:{id:"input-lastname",placeholder:"Last Name"},model:{value:e.searchData.lastname,callback:function(t){e.$set(e.searchData,"lastname",t)},expression:"searchData.lastname"}})],1)],1),e._v(" "),l("b-col",[l("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2","label-align-sm":"right","label-size":"sm",label:e.$t("Status"),"label-for":"input-select"}},[l("b-form-select",{attrs:{id:"input-select",options:e.active_options},model:{value:e.searchData.active,callback:function(t){e.$set(e.searchData,"active",t)},expression:"searchData.active"}})],1)],1)],1),e._v(" "),l("b-row",{staticClass:"mt-2 mb-3"},[l("b-button",{staticClass:"m-center w-10",attrs:{variant:"primary"},on:{click:e.search}},[e._v("Search")])],1)],1)],1)],1),e._v(" "),l("b-row",[l("b-row",{staticClass:"d-md-flex col-md-12 col-lg-12 m-center mt-3"},[l("b-col",[l("b-pagination",{attrs:{"per-page":e.searchData.perPage,"total-rows":this.searchData.rowsCount,"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last"},on:{change:e.search},model:{value:e.searchData.pageIndex,callback:function(t){e.$set(e.searchData,"pageIndex",t)},expression:"searchData.pageIndex"}})],1)],1),e._v(" "),l("b-row",{staticClass:"d-md-flex col-md-12 col-lg-12 m-center mt-1"},[l("b-overlay",{attrs:{show:e.overlay_show,"no-wrap":""}}),e._v(" "),l("b-col",[l("b-table",{attrs:{"head-variant":"light",hover:"",items:e.t_items,fields:e.t_fields},scopedSlots:e._u([{key:"cell(roles)",fn:function(t){return[e.hasRole("student",t.item.roles)?l("b-badge",{attrs:{variant:"info"}},[e._v("Student")]):e._e(),e._v(" "),e.hasRole("tutor",t.item.roles)?l("b-badge",{attrs:{variant:"danger"}},[e._v("Tutor")]):e._e(),e._v(" "),e.hasRole("admin",t.item.roles)?l("b-badge",{attrs:{variant:"primary"}},[e._v("Admin")]):e._e()]}},{key:"cell(acceptStatus)",fn:function(t){return[0===t.item.acceptStatus||null===t.item.acceptStatus?l("b-badge",{attrs:{variant:"warning"}},[e._v(" "+e._s(e.$t("Pending")))]):e._e(),e._v(" "),1===t.item.acceptStatus?l("b-badge",{attrs:{variant:"success"}},[e._v(" "+e._s(e.$t("Accepted")))]):e._e(),e._v(" "),2===t.item.acceptStatus?l("b-badge",{attrs:{variant:"danger"}},[e._v(" "+e._s(e.$t("Rejected")))]):e._e()]}},{key:"cell(econfirmed)",fn:function(t){return[t.item.emailConfirmed?l("b-badge",{attrs:{pill:"",variant:"success"}},[e._v(e._s(e.$t("Confirmed")))]):e._e(),e._v(" "),t.item.emailConfirmed?e._e():l("b-badge",{attrs:{pill:"",variant:"warning"}},[e._v(e._s(e.$t("Not Confirmed")))])]}},{key:"cell(view)",fn:function(t){return[l("b-button",{attrs:{variant:"info",size:"sm"}},[e._v("View")])]}},{key:"cell(setrole)",fn:function(t){return[l("b-button",{ref:"btnView"+t.index,attrs:{variant:"info",size:"sm"},on:{click:function(l){return e.setRoleDialog(t.item)}}},[e._v("Set")])]}}])})],1)],1)],1)],1)}),[],!1,null,"7befca9b",null);t.default=component.exports}}]);