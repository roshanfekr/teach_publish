{"version":3,"file":"pages/tutor-subject.js","sources":["webpack:///./pages/tutor-subject.vue?737b","webpack:///./pages/tutor-subject.vue?6cd0","webpack:///./pages/tutor-subject.vue?e047","webpack:///./pages/tutor-subject.vue?f239","webpack:///./pages/tutor-subject.vue","webpack:///./pages/tutor-subject.vue?4d9b","webpack:///./pages/tutor-subject.vue?7ab5"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./tutor-subject.vue?vue&type=style&index=0&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"c058af0c\", content, true, context)\n};","export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./tutor-subject.vue?vue&type=style&index=0&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".is-invalid .vs__dropdown-toggle{border-color:#dc3545;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545'%3E%3Ccircle cx='6' cy='6' r='4.5'/%3E%3Cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3E%3Ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3E%3C/svg%3E\\\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.m-v-select2 .vs__clear{margin-top:-2px;margin-right:7px;fill:var(--color1)}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-body-container-content\"},[_c('b-container',{staticClass:\"container-padding\"},[_c('b-row',{staticClass:\"col-md-12 col-lg-10 m-center\"},[_c('div',{staticClass:\"w-100\"},[_c('h3',{staticClass:\"mb-4 text-center\"},[_vm._v(_vm._s(_vm.$t('completeRegistration')))])]),_vm._v(\" \"),_c('b-row',{staticClass:\"w-100  mx-0\"},[_c('h4',{staticClass:\"mb-2\"},[_vm._v(_vm._s(_vm.$t('subjects.title')))]),_vm._v(\" \"),_c('b-progress',{staticClass:\"w-100\",attrs:{\"value\":\"2\",\"max\":\"5\",\"height\":\"10px\",\"variant\":\"danger\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"2/5\")]),_vm._v(\" \"),_c('p',{staticClass:\"w-100 mt-2\",staticStyle:{\"font-size\":\"small\"}},[_c('svg',{staticClass:\"bi bi-exclamation-circle\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"20\",\"height\":\"20\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ml-1\"},[_vm._v(_vm._s(_vm.$t(\"subjects.header_alert\")))])])],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mx-0 col-xl-7 col-lg-8 col-md-12\"},[_c('b-overlay',{attrs:{\"show\":_vm.busy,\"rounded\":\"lg\",\"variant\":\"white\",\"opacity\":\"0.8\"}},[_c('b-form',{staticClass:\"w-100  py-4\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onSubmit.apply(null, arguments)},\"reset\":_vm.onReset}},[_c('div',{},[_c('b-form-row',[_c('b-form-group',{staticClass:\"col-11\",attrs:{\"id\":\"input-group-subject\",\"label\":_vm.$t('subjects.subject'),\"label-for\":\"input-communication\"}},[_c('v-select',{staticClass:\"m-v-select2\",class:{ 'is-invalid  d-block': _vm.$v.registerForm.lessonId.$error },attrs:{\"placeholder\":\"Select one subject\",\"reduce\":function (x) { return x.id; },\"options\":_vm.options,\"label\":\"subject\",\"selectable\":function (option) { return !option.hasOwnProperty('group'); }},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar group = ref.group;\nvar subject = ref.subject;\nreturn [(group)?_c('div',{staticClass:\"group\"},[_vm._v(\"\\n                        \"+_vm._s(group)+\"\\n                      \")]):_vm._e(),_vm._v(\"\\n                      \"+_vm._s(subject)+\"\\n                    \")]}}]),model:{value:(_vm.registerForm.lessonId),callback:function ($$v) {_vm.$set(_vm.registerForm, \"lessonId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"registerForm.lessonId\"}}),_vm._v(\" \"),(!_vm.$v.registerForm.lessonId.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t('subjects.lesson.required'))+\"\\n                  \")]):_vm._e()],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-11\",attrs:{\"id\":\"input-group-grade\",\"label\":_vm.$t('subjects.grade_title'),\"label-for\":\"input-communication\"}},[_c('v-select',{staticClass:\"m-v-select2\",class:{ 'is-invalid  d-block': _vm.$v.registerForm.grade.$error },attrs:{\"placeholder\":_vm.$t('subjects.grade_placeholder'),\"options\":_vm.gradeOptions,\"reduce\":function (x) { return x.value; },\"label\":\"text\",\"selectable\":function (option) { return !option.hasOwnProperty('group'); }},model:{value:(_vm.registerForm.grade),callback:function ($$v) {_vm.$set(_vm.registerForm, \"grade\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"registerForm.grade\"}}),_vm._v(\" \"),(!_vm.$v.registerForm.grade.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t('subjects.grade.required'))+\"\\n                  \")]):_vm._e()],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-6\",attrs:{\"id\":\"input-group-year\",\"label\":_vm.$t('subjects.year'),\"label-for\":\"input-year\"}},[_c('v-select',{staticClass:\"m-v-select2\",attrs:{\"id\":\"input-year\",\"placeholder\":_vm.$t('subjects.year_placeholder'),\"options\":_vm.computedYears,\"selectable\":function (option) { return !option.hasOwnProperty('group'); }},model:{value:(_vm.registerForm.year),callback:function ($$v) {_vm.$set(_vm.registerForm, \"year\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"registerForm.year\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-11 align-self-end\",attrs:{\"id\":\"input-group-description\",\"label\":_vm.$t('subjects.description'),\"label-for\":\"input-description\"}},[_c('b-form-textarea',{attrs:{\"placeholder\":_vm.$t('desc'),\"autocomplete\":\"off\",\"id\":\"input-description\"},model:{value:(_vm.registerForm.description),callback:function ($$v) {_vm.$set(_vm.registerForm, \"description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"registerForm.description\"}})],1)],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"w-100\",attrs:{\"id\":\"input-group-price\",\"label\":_vm.$t('subjects.price.label'),\"label-for\":\"input-price\"}},[_c('div',{staticClass:\"float-left d-block w-50\"},[_c('b-form-input',{staticClass:\"w-100\",class:{ 'is-invalid': _vm.$v.registerForm.price.$error },attrs:{\"type\":\"number\",\"id\":\"input-price\",\"placeholder\":_vm.$t('subjects.price.placeholder')},model:{value:(_vm.registerForm.price),callback:function ($$v) {_vm.$set(_vm.registerForm, \"price\", $$v)},expression:\"registerForm.price\"}}),_vm._v(\" \"),(!_vm.$v.registerForm.price.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(_vm.$t('subjects.price.required'))+\"\\n                  \")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"float-left d-block mt-2 ml-1\"},[_vm._v(\"CAD\")])]),_vm._v(\" \"),_c('p',{staticClass:\"mt-5\"}),_vm._v(\" \"),_c('b-row',{staticClass:\"w-100 text-right d-block\"},[_c('b-button',{staticClass:\"form-control btn btn-crl btn-primary submit px-3 btn-reg mr-2 mt-4\",attrs:{\"type\":\"save\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t('subjects.add'))+\"\\n                  \")])],1)],1),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"float-left d-block\"},[_c('b-button',{staticClass:\"form-control btn btn-crl  btn-primary submit px-3 mt-4 btn-reg mr-2\",attrs:{\"to\":\"/tutor-details\"}},[_c('svg',{staticClass:\"bi bi-chevron-left\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\"}})]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('back')))])]),_vm._v(\" \"),_c('b-button',{staticClass:\"form-control btn btn-crl  btn-primary submit btn-reg px-3 mt-4\",on:{\"click\":_vm.nextStep}},[_c('span',{staticClass:\"mt-2\"},[_vm._v(_vm._s(_vm.$t('next')))]),_vm._v(\" \"),_c('svg',{staticClass:\"bi bi-chevron-right\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\"}})])])],1),_vm._v(\" \"),_c('div',{staticClass:\"float-right mt-5 w-50 text-right\"},[_c('b-link',{attrs:{\"href\":\"\"},on:{\"click\":_vm.nextStep}},[_vm._v(_vm._s(_vm.$t(\"skipStep\")))])],1)])])],1)],1)],1),_vm._v(\" \"),_c('b-row',{staticClass:\"mt-4 w-100 mx-0\"},_vm._l((_vm.items),function(item,index){return _c('div',{key:item.id,staticClass:\"col-lg-4 p-1\"},[_c('b-card',{staticClass:\"h-100\"},[_c('b-overlay',{staticClass:\"w-100\",attrs:{\"show\":_vm.showDeleteOverlay(item.id),\"variant\":\"transparent\",\"opacity\":0.8,\"blur\":\"3px\",\"rounded\":\"sm\"}},[_c('div',{staticClass:\"text-right\"},[_c('b-link',{staticClass:\"mr-4\",staticStyle:{\"color\":\"#bfbfbf\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.showDeleteComfirm(item,index)}}},[_c('font-awesome-icon',{staticClass:\"shop-icon\",attrs:{\"icon\":['fas', 'trash']}})],1),_vm._v(\" \"),_c('b-link',{staticStyle:{\"color\":\"#bfbfbf\"},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.showEditDialog(item,index)}}},[_c('font-awesome-icon',{staticClass:\"shop-icon\",attrs:{\"icon\":['far', 'edit']}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"small font-weight-bold title-color\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t(\"subjects.label\"))+\"\\n              \")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n                \"+_vm._s(item.subject)+\"\\n              \")]),_vm._v(\" \"),_c('hr',{staticClass:\"my-2\"}),_vm._v(\" \"),_c('div',{staticClass:\"small font-weight-bold title-color\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t(\"Status\"))+\"\\n              \")]),_vm._v(\" \"),_c('div',[(item.acceptStatus === 1)?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(_vm._s(_vm.$t(\"accepted\")))]):_vm._e(),_vm._v(\" \"),(item.acceptStatus === -1)?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.$t(\"disable\")))]):_vm._e(),_vm._v(\" \"),(item.acceptStatus === 0 || item.acceptStatus === null )?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t(\"pending\"))+\"\\n                \")]):_vm._e()],1),_vm._v(\" \"),_c('hr',{staticClass:\"my-2\"}),_vm._v(\" \"),_c('div',{staticClass:\"small font-weight-bold title-color\"},[_vm._v(\"\\n                Grade\\n              \")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n                \"+_vm._s(item.grade)+\"\\n              \")]),_vm._v(\" \"),_c('hr',{staticClass:\"my-2\"}),_vm._v(\" \"),_c('div',{staticClass:\"small font-weight-bold title-color\"},[_vm._v(\"\\n                Year\\n              \")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n                \"+_vm._s(item.year)+\"\\n              \")]),_vm._v(\" \"),_c('hr',{staticClass:\"my-2\"}),_vm._v(\" \"),_c('div',{staticClass:\"small font-weight-bold title-color\"},[_vm._v(\"\\n                Price\\n              \")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n                \"+_vm._s(item.price)),_c('span',{staticClass:\"small\"},[_vm._v(\" CAD\")])]),_vm._v(\" \"),_c('hr',{staticClass:\"my-2\"}),_vm._v(\" \"),_c('div',{staticClass:\"small font-weight-bold title-color\"},[_vm._v(\"\\n                Description\\n              \")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n                \"+_vm._s(item.description)+\"\\n              \")])])],1)],1)}),0),_vm._v(\" \"),_c('b-modal',{ref:\"editModal\",attrs:{\"hide-header\":\"\",\"hide-footer\":\"\",\"centered\":\"\"}},[_c('b-overlay',{attrs:{\"show\":_vm.showEditOverLayDialog,\"rounded\":\"lg\",\"variant\":\"white\",\"opacity\":\"0.8\"}},[_c('b-form',{staticClass:\"w-100  py-4\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onSubmit.apply(null, arguments)},\"reset\":_vm.onReset}},[_c('b-form-row',[_c('b-form-group',{staticClass:\"col-11\",attrs:{\"id\":\"input-group-grade\",\"label\":_vm.$t('subjects.grade_title'),\"label-for\":\"input-communication\"}},[_c('v-select',{staticClass:\"m-v-select2\",class:{ 'is-invalid  d-block': _vm.$v.editForm.grade.$error },attrs:{\"placeholder\":_vm.$t('subjects.grade_placeholder'),\"options\":_vm.gradeOptions,\"reduce\":function (x) { return x.value; },\"label\":\"text\",\"selectable\":function (option) { return !option.hasOwnProperty('group'); }},model:{value:(_vm.editForm.grade),callback:function ($$v) {_vm.$set(_vm.editForm, \"grade\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.grade\"}}),_vm._v(\" \"),(!_vm.$v.editForm.grade.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('subjects.grade.required'))+\"\\n              \")]):_vm._e()],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-6\",attrs:{\"id\":\"input-group-year\",\"label\":_vm.$t('subjects.year')+':',\"label-for\":\"input-year\"}},[_c('v-select',{staticClass:\"m-v-select2\",attrs:{\"placeholder\":_vm.$t('subjects.year_placeholder'),\"options\":_vm.computedYears,\"selectable\":function (option) { return !option.hasOwnProperty('group'); }},model:{value:(_vm.editForm.year),callback:function ($$v) {_vm.$set(_vm.editForm, \"year\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.year\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-11 align-self-end\",attrs:{\"id\":\"input-group-description\",\"label\":_vm.$t('subjects.description')+':',\"label-for\":\"input-description\"}},[_c('b-form-textarea',{attrs:{\"placeholder\":_vm.$t('desc'),\"autocomplete\":\"off\",\"id\":\"input-accountId\"},model:{value:(_vm.editForm.description),callback:function ($$v) {_vm.$set(_vm.editForm, \"description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.description\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"w-100\",attrs:{\"id\":\"input-group-price\",\"label\":_vm.$t('subjects.price.label'),\"label-for\":\"input-price\"}},[_c('div',{staticClass:\"float-left d-block w-50\"},[_c('b-form-input',{staticClass:\"w-100\",class:{ 'is-invalid': _vm.$v.editForm.price.$error },attrs:{\"type\":\"number\",\"id\":\"input-price\",\"placeholder\":_vm.$t('subjects.price.placeholder')},model:{value:(_vm.editForm.price),callback:function ($$v) {_vm.$set(_vm.editForm, \"price\", $$v)},expression:\"editForm.price\"}}),_vm._v(\" \"),(!_vm.$v.editForm.price.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(_vm.$t('subjects.price.required'))+\"\\n                \")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"float-left d-block mt-2 ml-1\"},[_vm._v(\"CAD\")])]),_vm._v(\" \"),_c('b-form-row',{staticClass:\"w-100\"},[_c('div',{staticClass:\"p-2 \"},[_c('b-button',{staticClass:\"form-control btn btn-crl btn-primary submit px-3 btn-reg mr-2\",on:{\"click\":_vm.saveEdit}},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('save'))+\"\\n                \")]),_vm._v(\" \"),_c('b-button',{staticClass:\"form-control btn btn-crl btn-primary submit px-3 btn-reg mr-2\",on:{\"click\":_vm.cancelEdit}},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('cancel'))+\"\\n                \")])],1)])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nimport {library} from '@fortawesome/fontawesome-svg-core'\nimport {faTrash} from '@fortawesome/free-solid-svg-icons'\nimport {faEdit} from '@fortawesome/free-regular-svg-icons'\n\nimport {faGoogle} from '@fortawesome/free-brands-svg-icons'\nimport {faFacebookF} from '@fortawesome/free-brands-svg-icons'\nimport {faTrashAlt, faFileAlt} from '@fortawesome/free-solid-svg-icons'\n\nimport {required, minLength, sameAs, email, numeric} from \"vuelidate/lib/validators\";\n// import {required, numeric, minLength, maxLength} from \"vuelidate/lib/validators\";\n\n\nlibrary.add(faTrash)\nlibrary.add(faEdit)\n\nlibrary.add(faFileAlt)\nlibrary.add(faTrashAlt)\nlibrary.add(faGoogle)\nlibrary.add(faFacebookF)\n\nexport default {\n  middleware: 'auth',\n  name: 'ToturDetails',\n  mounted() {\n    if(!this.$auth.hasScope(\"tutor\") && !this.$auth.hasScope(\"admin\"))\n    {\n      this.$router.push(\"/\")\n      return\n    }\n    this.loadSubjects();\n    this.fillForm();\n  },\n  data() {\n\n    return {\n      showEditOverLayDialog: false,\n      editIndex : -1 ,\n      editVisible: false,\n      busy : true,\n      nextPush: \"/tutor-transcript\" ,\n      deleteData: {\n        id: 0,\n        lessonId: 0\n      },\n      overlays: [],\n      gradeOptions: [{value:'D' , text:'D'} , {value:'C-', text:'C-'} , {value:'C', text:'C'} , {value:'B-', text:'B-'}, {value:'B', text:'B'} ,{value:'B+', text:'B+'}\n        ,{value:'A', text:'A'} , {value:'A-', text:'A-'} ,{value:'A+', text:'A+'} ],\n      options: [],\n      transcriptFileId: null,\n      transcriptFilePath: \"\",\n      items: [],\n      registerForm: {\n        lessonName: '',\n        lessonId: null,\n        description: '',\n        userId: 0,\n        year: null,\n        grade: null,\n        price: null\n      },\n      editForm: {\n        id: 0,\n        description: null,\n        year: null,\n        grade: null,\n        price: null\n      },\n\n      errors: null,\n    }\n  },\n  computed:{\n    computedYears: function () {\n      var years = []\n      for (var i = 1960; i < (new Date()).getFullYear(); i++) {\n        years.push(i)\n      }\n      return years\n    }\n  },\n  validations: {\n\n    registerForm: {\n      grade: {\n        required,\n      },\n      year: {},\n      lessonId: {\n        required,\n      },\n      description: {},\n      price:{\n        required ,\n        numeric\n      }\n    },\n\n    editForm: {\n      grade: {\n        required,\n      },\n      year: {},\n      description: {},\n      price:{\n        required ,\n        numeric\n      }\n    }\n\n  },\n  methods: {\n    showModal(id) {\n      this.$refs[id].show()\n    },\n    hideModal(id) {\n      this.$refs[id].hide()\n    },\n    clear() {\n      this.registerForm.lessonId = null\n      this.registerForm.description = null\n      this.registerForm.grade = null\n      this.registerForm.year = null\n      this.registerForm.price = null\n      this.$v.$reset()\n    },\n\n    showEditDialog(item,index)\n    {\n      this.editIndex = index\n      this.editForm.id = item.id\n      this.editForm.description = item.description\n      this.editForm.grade = item.grade\n      this.editForm.year = item.year\n      this.editForm.price = item.price\n      this.showModal(\"editModal\")\n    },\n    saveEdit()\n    {\n      this.$v.$reset()\n      this.errors = null\n      this.$v.editForm.$touch()\n      if (this.$v.editForm.$invalid) {\n        console.log(\"vuelidate error\")\n      } else {\n        this.showEditOverLayDialog = true\n        this.$axios.post('/subject/save-edit-tutor-subject-one', this.editForm).then((res) => {\n          this.showEditOverLayDialog = false\n          this.$set(this.items ,this.editIndex, res.data)\n          this.hideModal(\"editModal\")\n          this.makeToast('success', 'Message', this.$t('done_successfully'))\n        }).catch(error => {\n          if(error.response !== null) {\n            if (error.response.data === \"notexists\")\n              this.makeToast('danger', 'Error', this.$t('Item not exist.'))\n            if (error.response.data.errors) {\n              this.errors = error.response.data.errors\n            }\n          }\n        }).finally(() => {\n          this.showEditOverLayDialog = false\n          this.loaded = false\n        })\n      }\n    },\n    cancelEdit()\n    {\n      this.editForm.id = 0\n      this.editForm.description = null\n      this.editForm.grade = null\n      this.editForm.year = null\n      this.editForm.price = null\n      this.hideModal(\"editModal\")\n    },\n    hideOverlay()\n    {\n      this.busy = false\n    },\n    showOverlay()\n    {\n      this.busy = true\n    },\n    async nextStep() {\n      let nextCancel = false\n      if (this.registerForm.lessonId > 0) {\n        await this.$bvModal.msgBoxConfirm(this.$t('subjects.incomplete_form'), {\n          title: 'Confirm',\n          size: 'md',\n          buttonSize: 'sm',\n          okVariant: 'danger',\n          okTitle: 'YES',\n          cancelTitle: 'NO',\n          footerClass: 'p-2 border-top-0',\n          hideHeaderClose: false,\n          headerClass: 'p-2 border-bottom-0',\n          centered: true\n        })\n          .then(value => {\n            if (value === true) {\n              nextCancel = false\n            } else {\n              nextCancel = true\n            }\n          })\n          .catch(err => {\n          })\n\n      }\n      if(nextCancel)\n        return\n      if (this.items.length === 0) {\n        this.$bvModal.msgBoxConfirm(this.$t('subjects.subject_empty_alert'), {\n          title: 'Confirm',\n          size: 'md',\n          buttonSize: 'sm',\n          okVariant: 'danger',\n          okTitle: 'YES',\n          cancelTitle: 'NO',\n          footerClass: 'p-2 border-top-0',\n          hideHeaderClose: false,\n          headerClass: 'p-2 border-bottom-0',\n          centered: true\n        })\n          .then(value => {\n            if (value === true) {\n              this.$router.push(this.nextPush)\n            }\n          })\n          .catch(err => {\n          })\n      } else {\n        this.$router.push(this.nextPush)\n      }\n\n    },\n    showDeleteOverlay(id) {\n      let result = false\n      this.overlays.filter(function (elem) {\n        if (elem.key === id) {\n          result = elem.value\n          return true\n        }\n      });\n      return result\n    },\n    loadSubjects() {\n      this.$axios.post('/definitions/getAllLessons').then((res) => {\n        this.options = res.data;\n      }).catch(error => {\n        if (error.response.data.errors) {\n          this.errors = error.response.data.errors\n        }\n        console.log(error)\n      })\n    },\n    fillForm() {\n      this.showOverlay()\n      this.$axios.post('subject/items', null).then((res) => {\n        this.hideOverlay()\n        this.items = res.data.data\n        this.transcriptFilePath =  res.data.transcript.path\n        this.transcriptFileId =  res.data.transcript.fileId\n\n      }).catch(error => {\n        if (error.response.data.errors) {\n          this.errors = error.response.data.errors\n        }\n        console.log(error)\n      });\n    },\n    delItem(index) {\n      if (index > -1) {\n        this.items.splice(index, 1);\n      }\n    },\n    onReset(evt) {\n      evt.preventDefault()\n    },\n\n    onSubmit(evt) {\n      this.$v.$reset()\n      this.errors = null\n      evt.preventDefault()\n      this.$v.registerForm.$touch()\n      if (this.$v.registerForm.$invalid) {\n        console.log(\"vuelidate error\")\n      } else {\n        this.showOverlay()\n        this.loaded = true\n        this.$axios.post('/subject/save-tutor-subject-one', this.registerForm).then((res) => {\n          this.hideOverlay()\n          this.items.push(res.data)\n\n          //add overlay item\n          this.overlays.push({key: res.data.id, value: false})\n          this.clear();\n          this.makeToast('success', 'Message', this.$t('done_successfully'))\n        }).catch(error => {\n          if (error.response.data === \"duplicate\")\n            this.makeToast('danger', 'Error', this.$t('duplicateItem'))\n\n          if (error.response.data.errors) {\n            this.errors = error.response.data.errors\n          }\n          console.log(error)\n        }).finally(() => {\n          this.loaded = false\n          this.hideOverlay()\n        })\n      }\n    },\n    downloadFile(fileId) {\n      try {\n        var c = {responseType: 'blob'}\n\n        this.$axios.get(`/download/${fileId}` ,  c).then((response) => {\n          var fileURL = window.URL.createObjectURL(new Blob([response.data],{type: 'application/file'}));\n          var fileLink = document.createElement('a');\n          var filename = response.headers['filename']\n          fileLink.href = fileURL;\n          fileLink.setAttribute('download', filename);\n          document.body.appendChild(fileLink);\n\n          fileLink.click();\n        });\n\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    makeToast(variant = 'success', header = 'Message', msg = '') {\n      this.$bvToast.toast(this.$t(msg), {\n        autoHideDelay: 3000,\n        title: header,\n        variant: variant,\n        solid: true,\n        appendToast: true,\n        headerClass: \"d-none\"\n      })\n    },\n\n    reloadTable() {\n      this.loaded = true\n      this.$axios.post('subject/items', null).then((res) => {\n        this.items = res.data.data\n        let index = 0\n\n        for (const i in this.items) {\n          let row = this.items[i]\n          let json = {key: row.id , value: false }\n          this.overlays.push(json)\n        }\n      }).catch(error => {\n        if (error.response.data.errors) {\n          this.errors = error.response.data.errors\n        }\n\n      }).finally(()=>{\n        this.loaded = false\n\n      })\n    },\n\n    showDeleteComfirm(item , index) {\n\n      try {\n        this.$bvModal.msgBoxConfirm(this.$t('delete_confirm'), {\n          title: 'Confirm',\n          size: 'sm',\n          buttonSize: 'sm',\n          okVariant: 'danger',\n          okTitle: 'YES',\n          cancelTitle: 'NO',\n          footerClass: 'p-2 border-top-0',\n          hideHeaderClose: false,\n          headerClass: 'p-2 border-bottom-0',\n          centered: true\n        })\n          .then(value => {\n\n            this.delComfirm = value\n            if (value === true) {\n              this.setOverlayValue(item , true)\n              this.deleteData.id = item.id\n              this.$axios.post('/subject/delete', this.deleteData).then((res) => {\n                this.makeToast('success', 'Message', this.$t('success_delete'))\n                this.fillForm();\n              }).catch(error => {\n\n                this.setOverlayValue(item , false)\n                this.makeToast('danger', 'Error', this.$t('success_failed'))\n\n                if (error.response.data.errors) {\n                  this.errors = error.response.data.errors\n                }\n                console.log(error)\n              }).finally(()=>{\n\n              });\n            }\n          })\n          .catch(err => {\n            this.setOverlayValue(item , false)\n\n            // An error occurred\n            console.log(err)\n          })\n\n      } catch (e) {\n        this.setOverlayValue(item , false)\n\n        console.log(e);\n      }\n    },\n    setOverlayValue(item , value)\n    {\n      this.overlays.filter(function(elem){\n        if(elem.key === item.id)\n          elem.value = value;\n      });\n    },\n  },\n\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./tutor-subject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./tutor-subject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tutor-subject.vue?vue&type=template&id=c7f72c3a&\"\nimport script from \"./tutor-subject.vue?vue&type=script&lang=js&\"\nexport * from \"./tutor-subject.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./tutor-subject.vue?vue&type=style&index=0&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"50466cf9\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AAlCA;AAoCA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAPA;AASA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AATA;AAeA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAFA;AANA;AAjBA;AA8BA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAaA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAaA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAcA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAtTA;AA1FA;;AC5VA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}